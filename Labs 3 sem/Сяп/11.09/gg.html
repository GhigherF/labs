<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список дел</title>
    <link rel="stylesheet" href="gg.css">
    <script src="gg.js"></script>
</head>
<body>
        <h1 id="ListName"></h1>
        
        <script>
            let list=new ToDoList("Планы на жизнь");
            if (list._list.length==0)list.Add(new Task("Купить слона"));
            document.getElementById("ListName").innerHTML=list.name;
    </script>


        <div class="task_input">
            <input type="text" placeholder="Введите название задачи" id="task_name">
            <button id="add_btn">Добавить</button>
            <script>
                document.getElementById("add_btn").onclick=function () {
                    let text=document.getElementById("task_name").value;
                     let task=new Task(text);
                     list.Add(task);
                     document.getElementById("List").innerHTML+=" <li class=\"task_item\"> <input type=\"checkbox\" > <span class=\"task_name\" id=\"new\">Купить слона</span> <button class=\"edit_btn\">Редактировать</button>   <button class=\"delete_btn\" onclick=\"list.Delete (this.closest('.task_item').querySelector('.task_name').innerHTML);this.parentNode.remove();\">Удалить</button> </li>"
                     document.getElementById("new").innerHTML=task.name;
                     document.getElementById("new").id=task.id;
                };
                    </script>
        </div>


        <div class="filters">
            <button onclick="
                for(let i in list._list)
                {
                    alert(list._list[i].name);  
                }
                ">Показать все</button>
            <button>Показать выполненные</button>
            <button>Показать не выполненные</button>
        </div>
<ul id="List">
    <li class="task_item">
        <input type="checkbox" >
        <span class="task_name">Купить слона</span>
        <button class="edit_btn">Редактировать</button>
        <button class="delete_btn" onclick="
    list.Delete (this.closest('.task_item').querySelector('.task_name').innerHTML);
    this.parentNode.remove();

        ">Удалить</button>
    </li>
</ul>
</body>
</html>
